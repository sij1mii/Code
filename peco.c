#include<stdio.h>
#include<stdlib.h>
#include<unistd.h>
#include<time.h>

#define A "■"
#define B "●"
#define C "□"
#define D " "

#define M 239//Mを増やす場合 c[n]-(増やす)
#define X 24
#define Y 30

char masu1[][4]={A,A};
char masu2[][4]={B,B};
char masu3[][4]={C,C};
char masu4[][4]={D,D};

void set1(int *,int *);

int main()
{
	int i;
	int R[7]={0};
	int RR[2]={0};

	srand((unsigned)time(NULL));
  while(1){
		for(i=0;i<7;i++){
			R[i]=rand()%(37-30)+30;
			if(R[i]==30){
				R[i]=40;
			}
		}
		for(i=0;i<2;i++){
			RR[i]=rand()%2;
		}
    set1(R,RR);
  }
  return 0;
}
void set1(int *r,int *rr)
  {
    int i,x,y,j,t=44,tt,n = 1;
    int a[M],c[M];
  
		srand((unsigned)time(NULL));
    do{
      printf("%d\n", n);

			if(n==44){
				t = 44;				
				tt=rand()%(20-10)+10;
			}
			else if(n==64){
				t=64;
				tt=rand()%(20-10)+10;
			}
			else if(n==84){
				t=84;
				tt=rand()%(20-10)+10;
			}
			else if(n==104){
				t=104;
				tt=rand()%(20-10)+10;
			}
			else if(n==124){
				t=124;
				tt=rand()%(20-10)+11;
			}
			else if(n==154){
				t=154;
				tt=rand()%(20-10)+11;
			}
			else if(n==184){
				t=184;
				tt=rand()%(20-10)+11;
			}
			else if(n==214){
				t=214;
				tt=rand()%(20-10)+11;
			}
			printf("%d\n",t);
  
      for(i=0,j=M;i<M;i++,j--){
        a[i]=i;
        c[i]=j;
      }
      /*for(i=0;i<Y;i++){
        if(i==0){ 
					printf("    %d", i);
				} 
        else if(i>=1 && i<10){ 
					printf(" %d", i);
				}
        else{ 
					printf("%d", i);
				}
			}
      printf("\n");*/

      for(x=0;x<X;x++){
        /*if(x<10){ printf(" %d", x);}
        else{ printf("%d", x);}*/

        for(y=0;y<Y;y++){
					//目
					if((n>0&&n<238&&(x==12&&((y==11)||(y==21))))||
(n>1&&n<237&&(x==11&&((y==12)||(y==22))))||
(n>2&&n<236&&(x==10&&((y==12)||(y==22))))||
(n>3&&n<235&&(x==9&&((y==11)||(y==21))))||
(n>4&&n<234&&(x==8&&((y==10)||(y==20))))||
(n>5&&n<233&&(x==7&&((y==9)||(y==19))))||
(n>6&&n<232&&(x==7&&((y==8)||(y==18))))||
(n>7&&n<231&&(x==8&&((y==7)||(y==17))))||
(y==6&&((n>8&&n<230&&(x==9))||(n>9&&n<229&&(x==10))||
(n>10&&n<228&&(x==11))))||
(y==16&&((n>8&&n<230&&(x==9))||(n>9&&n<229&&(x==10))||
(n>10&&n<228&&(x==11))))||
(x==12&&(n>11&&n<227&&((y==7)||(y==17))||
(n>12&&n<226&&((y==8)||(y==18))||
(n>13&&n<225&&((y==9)||(y==19))))))||
(n>14&&n<224&&(x==11&&((y==10)||(y==20))))||
(n>15&&n<223&&(x==10&&((y==10)||(y==20))))||
(n>16&&n<222&&(x==9&&((y==9)||(y==19))))||
(n>17&&n<221&&(x==8&&((y==8)||(y==18))))||
(n>18&&n<220&&(x==9&&((y==7)||(y==17))))||
(n>19&&n<219&&(x==10&&((y==7)||(y==17))))||
(n>20&&n<218&&(x==11&&((y==7)||(y==17))))||
(n>21&&n<217&&(x==11&&((y==8)||(y==18))))||
(n>22&&n<216&&(x==11&&((y==9)||(y==19))))||
(n>23&&n<215&&(x==10&&((y==9)||(y==19))))||
(n>24&&n<214&&(x==9&&((y==8)||(y==18))))||
(n>25&&n<213&&(x==10&&((y==8)||(y==18))))){
						printf("\x1b[%d;%dm",rr[1],r[1]);
						printf(" %s", *masu2);
						printf("\x1b[0m");
					}
					//鼻
					else if((x==a[n-13]&&(n>13&&n<27&&((y==13)||(y==15))))||
(n>25&&n<222&&(x==14&&((y==13)||(y==15))))){
						printf("\x1b[%d;%dm",rr[0],r[0]);
						printf(" %s", *masu2);
						printf("\x1b[0m");
					}
					else if((x==c[n]-4&&(n>220&&((y==13)||(y==15))))){
						printf("\x1b[%d;%dm",rr[0],r[0]);
						printf(" %s", *masu2);
						printf("\x1b[0m");
					}
					//口
					else if((y==6&&((n>25&&n<238&&x==14)||
(n>26&&n<237&&x==15)))||(n>27&&n<236&&(x==17&&y==7))||
(n>28&&n<235&&(x==18&&y==8))||(n>29&&n<234&&(x==19&&y==9))||
(x==19&&(n>30&&n<233&&y==10))||
(x==20&&((n>31&&n<232&&y==11)||
(n>32&&n<231&&y==12)||(n>33&&n<230&&y==13)||
(n>34&&n<229&&y==14)||(n>35&&n<228&&y==15)||
(n>36&&n<227&&y==16)))||(n>37&&n<226&&x==19&&y==18)||
(n>38&&n<225&&x==18&&y==20)||(n>39&&n<224&&x==17&&y==21)||
(n>40&&n<223&&x==16&&y==22)||(n>41&&n<222&&x==15&&y==22)||
(n>42&&n<221&&x==14&y==23)){
						printf("\x1b[%d;%dm",rr[1],r[2]);
						printf(" %s", *masu2);
					}
					//輪郭
					else if((y==4&&((n>15&&n<180&&x==4)||
(n>16&&n<179&&x==5)||(n>17&&n<178&&x==6)||
(n>18&&n<177&&x==7)||(n>19&&n<176&&x==8)||
(n>20&&n<175&&x==9)||(n>21&&n<174&&x==10)||(n>22&&n<173&&x==11)))){
						printf("\x1b[%d;%dm",rr[0],r[3]);
						printf(" %s", *masu2);
						printf("\x1b[0m");
					}
					else if((y==3&&((n>23&&n<172&&x==13)||
(n>24&&n<171&&x==14)))||
(y==2&&((n>25&&n<170&&x==15)||(n>26&&n<169&&x==16)||
(n>27&&n<168&&x==17)||(n>28&&n<167&&x==18)||
(n>29&&n<166&&x==19)))||(n>30&&n<165&&x==20&&y==3)||
(x==22&&((n>31&&n<164&&y==4)||(n>42&&n<153&&y==24)))||
(x==23&&((n>32&&n<163&&y==5)||(n>43&&n<152&&y==23)))||
(y==26&&((n>33&&n<162&&x==12)||(n>34&&n<161&&x==13)||
(n>35&&n<160&&x==14)||(n>36&&n<159&&x==15)||
(n>37&&n<158&&x==16)||(n>38&&n<157&&x==17)||
(n>39&&n<156&&x==18)||(n>40&&n<155&&x==19)))||
(n>41&&n<154&&x==20&&y==25)||(n>42&&n<153&&x==15&&y==27)||
(n>43&&n<152&&y==28&&((x==15)||(x==10)))||
(n>44&&n<151&&y==29&&((x==14)||x==10))){
						printf("\x1b[%d;%dm",rr[0],r[3]);
						printf(" %s", *masu2);
						printf("\x1b[0m");
					}
					//髪
					else if((n>42&&n<153&&x==11&&((y==26)||(y==27)))||
(n>43&&n<152&&x==10&&((y==25)||(y==28)))||
(n>44&&n<151&&((x==8&&y==25)||(x==9&&y==29)))||
(n>45&&n<150&&x==7&&y==24)||(n>46&&n<149&&x==5&&y==24)||
(n>47&&n<148&&x==4&&y==23)||
(x==3&&((n>48&&n<147&y==23)||(n>49&&n<146&&y==22)||
(n>50&&n<145&&y==21)||(n>51&&n<144&&y==20)||
(n>52&&n<143&&y==19)||(n>53&&n<141&&y==18)||
(n>61&&n<134&&y==10)||(n>62&&n<133&&y==9)||
(n>63&&n<132&&y==8)||(n>64&&n<131&&y==7)||
(n>65&&n<130&&y==6)||(n>66&&n<129&&y==5)||
(n>67&&n<128&&y==4)))||
(x==4&&((n>54&&n<141&&y==17)||(n>55&&n<140&&y==16)||
(n>56&&n<139&&y==15)||(n>57&&n<138&&y==14)||
(n>58&&n<137&&y==13)||(n>59&&n<136&&y==12)||
(n>60&&n<135&&y==11)))||(n>68&&n<127&&x==2&&y==3)||
(n>69&&n<126&&x==1&&y==2)||(n>70&&n<125&&x==0&&y==2)||
(n>47&&n<149&&x==6&&y==29)||(n>48&&n<148&&x==5&&y==28)||
(n>48&&n<147&&x==3&&y==28)||(n>49&&n<146&&x==2&&y==27)||
(n>50&&n<145&&x==1&&y==27)||(n>51&&n<144&&x==0&&y==26)){
						printf("\x1b[%d;%dm",rr[0],r[3]);
						printf(" %s", *masu2);
						printf("\x1b[0m");
					}
					//舌
					else if((y==19&&(n>t&&n<(t+tt)&&(x>14&&x<19)))||
(y==20&&(n>t&&n<(t+tt)&&(x>13&&x<18)))||
(y==21&&(n>t&&n<(t+tt)&&(x>12&&x<17)))||
(y==22&&(n>t&&n<(t+tt)&&(x>12&&x<15)))){
						printf("\x1b[%d;%dm",rr[1],r[4]);
						printf(" %s", *masu1);
						printf("\x1b[0m");
					}
					//髪色
					else if((x==0&&(n>70&&n<212&&(y>2&&y<26)))||
(x==1&&(n>71&&n<211&&(y>2&&y<27)))||
(x==2&&(n>72&&n<210&&(y>3&&y<27)))||
(x==3&&(n>73&&n<209&&((y>10&&y<18)||(y>23&&y<28))))||
(x==4&&(n>74&&n<208&&(y>23&&y<29)))||
(x==5&&(n>75&&n<207&&(y>24&&y<28)))||
(x==6&&(n>76&&n<206&&(y>23&&y<29)))||
(x==7&&(n>77&&n<205&&(y>24&&y<30)))||
(x==8&&(n>78&&n<204&&(y>25&&y<39)))||
(x==9&&(n>79&&n<203&&(y>24&&y<29)))||
(x==10&&(n>80&&n<202&&(y>25&&y<28)))){
						printf("\x1b[%d;%dm",rr[0],r[5]);
						printf(" %s", *masu1);
						printf("\x1b[0m");
					}
					//顔色
					else if((x==4&&(n>81&&n<201&&((y>4&&y<11)||
(y>17&&y<23))))||
(x==5&&(n>82&&n<200&&(y>4&&y<24)))||
(x==6&&(n>83&&n<199&&(y>4&&y<24)))||
(x==7&&(n>84&&n<198&&(y>4&&y<24)))||
(x==8&&(n>85&&n<197&&(y>4&&y<25)))||
(x==9&&(n>86&&n<196&&(y>4&&y<25)))||
(x==10&&(n>87&&n<195&&(y>4&&y<25)))||
(x==11&&(n>88&&n<194&&(y>4&&y<30)))||
(x==12&&(n>89&&n<193&&(y>3&&y<30)))||
(x==13&&(n>90&&n<192&&(y>3&&y<30)))||
(x==14&&(n>91&&n<191&&(y>3&&y<29)))||
(x==15&&(n>92&&n<190&&(y>2&&y<26)))||
(x==16&&(n>93&&n<189&&(y>2&&y<26)))||
(x==17&&(n>94&&n<188&&(y>2&&y<26)))||
(x==18&&(n>95&&n<187&&(y>2&&y<26)))||
(x==19&&(n>96&&n<186&&(y>2&&y<26)))||
(x==20&&(n>97&&n<185&&(y>3&&y<25)))||
(x==21&&(n>98&&n<184&&(y>3&&y<25)))||
(x==22&&(n>99&&n<183&&(y>4&&y<24)))||
(x==23&&(n>100&&n<182&&(y>5&&y<23)))){
						printf("\x1b[%d;%dm",rr[1],r[6]);
						printf(" %s", *masu1);
						printf("\x1b[0m");
					}
      		else{
           	//printf(" %s", *masu3);
          	printf(" %s", *masu4);
       }
     }
     printf("\n");
  }
  usleep(130000);
  system("clear");
  n++;
  }while(n != M);
}
